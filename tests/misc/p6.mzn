include "globals.mzn";
set of int: universe = {3,4,5,7,8};
set of int: dom1 = {3,4,5};
set of int: dom2 = {4,5,8};
int: n = 3;
array[1..n] of var universe: sequence;
constraint alldifferent(sequence);
constraint sum(i in 1..n)(bool2int(sequence[i] in dom2)) >= 2;
constraint sum(i in 1..n)(bool2int(sequence[i] in dom1)) <= 1;
% constraint sum(i in 1..2)(bool2int(sequence[i] in dom2)) == 1;
% constraint sum(i in 1..2)(bool2int(sequence[i] in dom1)) == 1;
% constraint sequence[1] in dom1; 
% constraint not (sequence[2] in dom1); 
constraint sequence[3] in dom1; 
% constraint sequence[3] in dom2; 
solve satisfy;